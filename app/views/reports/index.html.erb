<div class="container-regular mt-6">
  <header class="bg-indigo-500 text-white shadow-lg rounded-2xl p-8">
    <h1 class="text-4xl flex flex-wrap md:flex-row flex-col justify-between">
      Current Report
      <span class="md:ml-4 text-2xl block md:text-4xl"><%= @recent_report %></span>
    </h1>
  </header>
  <main class="grid grid-cols-1 md:grid-cols-2">
    <div class="recent-report flex flex-col space-y-5 mt-7">
      <h2 class="text-2xl">
        Total Spending: 
        <span class="text-indigo-600">
          <%= number_to_currency(@recent_report.total_amount) %>
        </span>
      </h2>
      <table class="table-fixed border-separate border rounded-md border-indigo-200 p-3 w-full md:w-auto">
        <thead>
          <tr>
            <th class="p-3 text-left text-lg text-indigo-500 border-b border-indigo-200">Category</th>
            <th class="p-3 text-left text-lg text-indigo-500 border-b border-indigo-200">Spent</th>
          </tr>
        </thead>
        <tbody>
          <% @transaction_categories.each do |category, amount|  %>
            <tr class="">
              <td class="py-5 px-3">
                <%= render partial: 'shared/category_badge', :locals => {:category_name => category} %>
              </td>
              <td class="py-5 px-3">
                <%= number_to_currency(amount) %>
              </td>
            </tr>
          <% end %> 
        </tbody>
      </table>
    </div>
    <div class="reports-list flex flex-col space-y-5 mt-7">
      <h2 class="text-2xl text-indigo-600">Previous Reports</h2>
      <ul class="space-y-3">
        <% @reports.each do |report|  %>
          <li class="">
            <%= link_to report_path(report), class: "w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 md:py-4 md:text-lg md:px-10" do %>
              <%= report %>
            <% end %>
          </li>  
        <% end %>
      </ul>
    </div>
  </main>
</div>

<%# <%= @recent_report.to_json %>
 <%# <%= @reports.to_json %> 
<%# <%= @transaction_categories.to_json %>